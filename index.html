<!DOCTYPE HTML>
<!--[if IE 6]>
<html id="ie6" lang="en-US" class="ie ie6 lt-ie9">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US" class="ie ie7 lt-ie9">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US" class="ie ie8 lt-ie9">
<![endif]-->
<!--[if gte IE 9]>
<html lang="en-US" class="ie ie9">
<![endif]-->
<!--[if !(IE)]><!-->
<html lang="en-US" class="">
<!--<![endif]-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>Groovy head in the Cloud</title>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="css/flowtime.css">
    <link rel="stylesheet" href="css/themes/default.css">
    <link rel="stylesheet" href="assets/css/prism.css">

    <link rel="apple-touch-icon-precomposed"             href="img/touch-icon-iphone.png">
    <link rel="apple-touch-icon-precomposed"   sizes="72x72"     href="img/touch-icon-ipad.png">
    <link rel="apple-touch-icon-precomposed"   sizes="114x114"   href="img/touch-icon-iphone-retina.png">
    <link rel="apple-touch-icon-precomposed"   sizes="144x144"   href="img/touch-icon-ipad-retina.png">
    <link href="img/favicon.ico" type="image/x-ico" rel="icon"/>

</head>
<body class="">

<div class="flowtime">

<div class="ft-section" data-id="Starters">
    <div class="ft-page" data-id="Hybrid Mobile App" data-title="Hybrid Mobile App">
        <div class="stack-center">
            <div class="stacked-center">
                <h1><strong class="greach">Groovy</strong></h1>
				<h2>head in the <strong class="greach">Cloud</strong></h2>
                <img class="stacked-center" src="img/logo_greach.png" />
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Corinne" data-title="Corinne">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Cédric Champeau</h1>
                <p style=" font-size: 30px;  ">alias <strong class="greach">melix</strong></p>
                <img class="stacked-center" width="20%" src="img/cedric_champeau.jpg"/><br/>
                <p style=" font-size: 20px;  ">@CedricChampeau<br/>cedric.champeau@gmail.com<br/>https://github.com/melix<br/>http://www.gopivotal.com</p>
                <div style="width: 100%">
                    <ul>
                        <li>Full-time Groovy developer</li>
                        <li>AST transformation hacker</li>
                        <li>Responsible for the type checker and static compiler</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <div class="ft-page" data-id="Fabrice" data-title="Fabrice">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Fabrice Matrat</h1>

                <p style=" font-size: 30px;  ">alias <strong class="greach">Porthos</strong></p>
                <img class="stacked-center" width="20%" src="img/fabrice_matrat.png"/><br/>

                <p style=" font-size: 20px;  ">@fabricematrat<br/>fabricematrat@gmail.com<br/>https://github.com/fabricematrat</p>

                <div style="width: 100%">
                    <div style="float:left;text-align:right;display:inline-block;width: 25%">
                        <img src="img/3musket33rs.jpeg" width="50%"/>
                    </div>
                    <div style="float: left; font-size: 25px; text-align: left; display: inline-block; width: 25%">
                        <img src="img/rivierargug.png" width="50%"/>
                    </div>
                    <div style="float: right; font-size: 25px; text-align: right; display: inline-block; width: 25%">
                        <img src="img/jssophia.jpg" width="50%"/>
                    </div>
                    <div style="float: right; font-size: 25px; text-align: right; display: inline-block; width: 25%">
                        <img src="img/cujo.png" width="50%"/>
                    </div>
                </div>

            </div>
        </div>
    </div>



</div>

<div class="ft-section" data-id="Contribution">

    <div class="ft-page" data-id="Contribution" data-title="Contribution">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>How to contribute</h1>
                <hr/><br/>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Contribution Step 1" data-title="Contribution - Step 1">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Step 1 - Use Case</h1>
                <hr/><br/>
                <ul>
                    <li>Identify a<strong class="greach">problem</strong> or a widely used, but unsupported <strong class="greach">technology</strong></li>
                    <li>No need to be <strong class="greach">brilliant</strong> or require huge work. You only have to solve a <strong>problem</strong></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Contribution Step 2" data-title="Contribution - Step 2">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Step 2 - Find a mentor</h1>
                <hr/><br/>
                <div style="font-size: 25px; text-align: center; display: inline-block; width: 50%">
                    <img src="img/hackathon-mentor.jpg">
                </div>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Contribution Step 3" data-title="Contribution - Step 3">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Step 3 - Work hard</h1>
                <hr/><br/>
                <div style="font-size: 25px; text-align: center; display: inline-block; width: 50%">
                    <img src="img/hackathon-work.jpg">
                </div>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Contribution Step 4" data-title="Contribution - Step 4">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Step 4 - Have fun</h1>
                <hr/><br/>
                <div style="font-size: 25px; text-align: center; display: inline-block; width: 50%">
                    <img src="img/hackathon-fun.jpg">
                </div>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Contribution Step 5" data-title="Contribution - Step 5">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Step 5 - Pull Request</h1>
                <hr/><br/>
                <div style="font-size: 25px; text-align: center; display: inline-block; width: 50%">
                    <img src="img/pull-request.png">
                </div>
            </div>
        </div>
    </div>

</div>

<div class="ft-section" data-id="RivieraGUG">

    <div class="ft-page" data-id="Use Case" data-title="Use Case">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Use Case</h1>
                <hr/><br/>
                <h1><strong class="greach">Cloud</strong> and <strong>Groovy</strong></h1>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Where" data-title="Where">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Where ?</h1>
                <hr/><br/>
                <h1>Customization</h1>
                <h1>DSL</h1>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Example" data-title="Example">
        <div class="stack-center">
            <div class="stacked-center">
				<h1>Real life</h1>
                <hr/><br/>
				<img src="img/example.png"/>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Jenkins" data-title="Jenkins">
        <div class="stack-center">
            <div class="stacked-center">
				<h1>Jenkins</h1>
                <hr/><br/>
				<img src="img/jenkins.png"/>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Problems" data-title="Problems">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Problems</h1>
                <hr/><br/>
                <h1>Script can</h1>
                <ul>
                    <li><strong>Consume</strong> Resources <strong class="greach">(CPU, disk, Threads)</strong></li>
                    <li>Java and your own <strong class="greach">API</strong> is <strong>exposed</strong></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="ft-page" data-id="ThreadInterrupt" data-title="ThreadInterrupt">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>ThreadInterrupt</h1>
                <hr/><br/>
                <pre><code class="language-javascript">@ThreadInterrupt
import groovy.transform.ThreadInterrupt

while (true) {
// eat cpu
}</code></pre>
            </div>
        </div>
    </div>


    <div class="ft-page" data-id="TimedInterrupt" data-title="TimedInterrupt">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>TimedInterrupt</h1>
                <hr/><br/>
                <pre><code class="language-javascript">@TimedInterrupt(10)
import groovy.transform.TimedInterrupt

while (true) {
// eat cpu
}</code></pre>
            </div>
        </div>
    </div>



    <div class="ft-page" data-id="ConditionalInterrupt" data-title="ConditionalInterrupt">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>ConditionalInterrupt</h1>
                <hr/><br/>
                <pre><code class="language-javascript">@ConditionalInterrupt({counter++>1})
import groovy.transform.ConditionalInterrupt

counter=0
def scriptMethod() {
     4.times {
         println 'executing script method...'
     }
}

scriptMethod()</code></pre>
            </div>
        </div>
    </div>


    <div class="ft-page" data-id="APIControl" data-title="APIControl">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>API Control</h1>
                <hr/><br/>
                <pre><code class="language-javascript">System.exit(-1)</code></pre>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="SecureASTCustomizer" data-title="SecureASTCustomizer">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Compile Time</h1>
                <h1><strong class="greach">SecureASTCustomizer</strong></h1>
                <hr/><br/>
                 <pre><code class="language-javascript">def configuration = new CompilerConfiguration()
def customizer = new SecureASTCustomizer()

customizer.with {
   receiversBlackList = ["java.lang.System"]
}

configuration.addCompilationCustomizers(customizer)
new GroovyShell(configuration).evaluate("System.exit(-1)")</code></pre>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Runtime" data-title="Runtime">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>But this ?</h1>
                <hr/><br/>
                 <pre><code class="language-javascript">def configuration = new CompilerConfiguration()
def customizer = new SecureRuntimeASTCustomizer()

customizer.with {
   receiversBlackList = ["java.lang.System"]
}

configuration.addCompilationCustomizers(customizer)
new GroovyShell(configuration).evaluate("((Object)System).exit(-1)")</code></pre>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Ways" data-title="Ways">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>But how many ways ?</h1>
                <hr/><br/>
				<ul class="steps">
					<li class="ft-fragment">System.exit(0)</li>
					<li class="ft-fragment">Eval.me("System.exit(0)")</li>
					<li class="ft-fragment">evaluate("System.exit(0)")</li>
					<li class="ft-fragment">(new GroovyShell()).evaluate("System.exit(0)")</li>
					<li class="ft-fragment">Class.forName("java.lang.System").exit(0)</li>
					<li class="ft-fragment">System.&exit.call(0)</li>
					<li class="ft-fragment">System.getMetaClass().invokeMethod("exit",0)</li>
					<li class="ft-fragment">def s = System; s.exit(0)</li>
					<li class="ft-fragment">Script t = this; t.evaluate("System.exit(0)")</li>
					<li class="ft-fragment">def s = “exit”; System.”$s”(0)</li>
				</ul>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Community" data-title="Community">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Community</h1>
                <hr/><br/>
                <ul>
                    <li>Koshuke Kawagushi <a href="http://groovy-sandbox.kohsuke.org">http://groovy-sandbox.kohsuke.org</a></li>
                    <li>Jim Driscoll <a href="https://github.com/sjurgemeyer/GR8ConfUS2013/tree/master/JimDriscoll">https://github.com/sjurgemeyer/GR8ConfUS2013/tree/master/JimDriscoll</a></li>
                    <li>Simon Temple <a href="https://github.com/simon-temple/groovy-sandbox">https://github.com/simon-temple/groovy-sandbox</a></li>
                    <li>JavaSandBox <a href="http://blog.datenwerke.net/2013/06/sandboxing-groovy-with-java-sandbox.html">http://blog.datenwerke.net/2013/06/sandboxing-groovy-with-java-sandbox.html</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Missing" data-title="Missing">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>What's missing ?</h1>
                <hr/><br/>
                <ul>
                    <li>Works with <strong class="greach">CallSite caching</strong></li>
                    <li>Issue with <strong>InvokeDynamic</strong></li>
                    <li>Issue with <strong>Static type checking</strong></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="Solution" data-title="Solution">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Solution !</h1>
                <hr/><br/>
                <h1><strong>Wrap</strong> calls with a <strong class="greach">closure</strong></h1>
                <h1>before</h1>
                 <pre><code class="language-javascript">((Object)System).exit(-1)</code></pre>
                <h1>After</h1>
                 <pre><code class="language-javascript">groovyAccessControl.checkCall(((Object)System),
                                "exit",
                                [-1],
                                { receiver, methodName, args -> ... something doing the call... })</code></pre>
            </div>
        </div>
    </div>


    <div class="ft-page" data-id="Solution" data-title="Solution">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Details</h1>
                <hr/><br/>
                <ul> 
                    <li><strong>Whitelist</strong></li>
                    <li><strong class="greach">Blacklist</strong></h1></li>
                </ul>
                <pre><code class="language-javascript">public Object checkCall(Object receiver,
                        String methodName,
                        Object[] args,
                        Closure closure) {

    checkCallOnReceiver(receiver, methodName, args,
                        methodsOnReceiverBlacklist,
                        methodsOnReceiverWhitelist);

    return closure.call(receiver, methodName, args);
}</code></pre>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="OurSolution" data-title="OurSolution">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>HackenGarten with Cedric</h1>
                <hr/><br/>
                <h1>Let's switch to <strong class="greach">IDE</strong></h1>
            </div>
        </div>
    </div>

    <div class="ft-page" data-id="LeftOver" data-title="LeftOver">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>LeftOver</h1>
                <hr/><br/>
                <ul>
                    <li>Issue with implicit this</li>
                    <li>Static type checking</li>
                    <li>Cleaning</li>
                    <li><strong class="greach">Test</strong></li>
                    <li><strong>Test</strong></li>
                    <li><strong class="greach">Test</strong></li>
                    <li><strong>Test</strong></li>
                </ul>
            </div>
        </div>
    </div>

</div>

<div class="ft-section" data-id="Key take aways">

    <div class="ft-page" data-id="Something" data-title="Something">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Key takeaways</h1>
                <hr/><br/>
                <ul>
                    <li>Contributing is <strong class="greach">easy</strong></li>
                    <li>Securing Script is <strong>not</strong></li>
                    <li>Mix <strong class="greach">Compile Time</strong> + <strong class="greach">Runtime Check</strong></li>
                    <li>Consider <strong class="greach">Security Manager</strong></li>
                </ul>
            </div>
        </div>
    </div>

</div>

<div class="ft-section" data-id="Thanks">

    <div class="ft-page" data-id="Thank you" data-title="Thank you">
        <div class="stack-center">
            <div class="stacked-center">
                <h1>Thanks!</h1>
                <hr/><br/>

            </div>
        </div>
    </div>


</div>
</div>

<div class="loglog"></div>

<script src="js/brav1toolbox.js"></script>
<script src="js/flowtime.js"></script>
<script src="assets/js/prism.js"></script>

<script type="text/javascript">
    var cacheTitle = document.title.replace("Flowtime.js | ", "");
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1228618-10']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackEvent', 'Flowtime', 'Landing', document.title]);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    // Configuration API test
    Flowtime.showProgress(true);
    // Flowtime.fragmentsOnSide(true);
    // Flowtime.fragmentsOnBack(true);
    // Flowtime.useHistory(false);
    // Flowtime.slideInPx(true);
    // Flowtime.sectionsSlideToTop(true);
    // Flowtime.gridNavigation(false);
    // Flowtime.useOverviewVariant(true);
    Flowtime.parallaxInPx(true);
    Flowtime.mouseDragEnabled(true);
    //
    // event management
    Flowtime.addEventListener("flowtimenavigation", onNavigation, false);
    function onNavigation(e)
    {
        _gaq.push(['_trackEvent', 'Flowtime', 'Navigation', cacheTitle + ' > ' + document.title.replace("Flowtime.js | ", "")]);
        // console.log(cacheTitle + ' > ' + document.title.replace("Flowtime.js | ", ""));
        cacheTitle = document.title.replace("Flowtime.js | ", "");
        //console.log('section', e.section, 'sectionIndex', e.sectionIndex);
        //console.log('page', e.page, 'pageIndex', e.);
        //console.log('pastSectionIndex', e.pastSectionIndex, 'pastPageIndex', e.pastPageIndex);
        //console.log('prevSection', e.prevSection);
        //console.log('nextSection', e.nextSection);
        //console.log('prevPage', e.prevPage);
        //console.log('nextPage', e.nextPage);
        //console.log('fragment', e.fragment, + 'fragmentIndex', e.fragmentIndex);
        //console.log("isOverview", e.isOverview);
        //console.log('progress:', e.progress, 'total:', e.total);
        // var value = Math.round(e.progress * 100 / e.total);
        // console.log('Completion: ' + value + '%');
    }
    // starts the application with configuration options
    Flowtime.start();
</script>
</body>
</html>
